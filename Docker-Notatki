Docker - pozwala tworzyc wiele aplikacji na jednym serwerze, ktore sa niezalezne, wyilizowane, ktore moga ze soba rozmawiac, ale kazdy jest zamknienty w swojej osobniej prszestrzeni.
Nie musimy instalować wielu innych aplikacji i bibliotek na jednym komputerze, ponieważ dzięki Dockerowi możemy umieścić je wszystkie w kontenerach.
Obrazy - sa jak klassy w programmowaniu objektowym, mamy klassy z ktorych mozemy tworzyc instancje(containery). Obrazy sa odpowiedniki tych klass, a Containery sa odpowiedniki tych instancji

---Architektura Dockera 
1.Najpierw laczymy sie z naszego Clienta na Docker Host
2.Docker Deamon laczy sie z Rejestrem
3.Docker Deamon sprawdza w cache czy jest nasz obraz - warunek true jak jest to wtedy korzysta z tego lokalnego obrazu i na jego podstawie moze sobie utworzyc container
jak nie to pobiera z rejestru zdalnego bardzo czesto to moze byc DockerHub, ale rowniez i jakis inne zrodlo.Pobieramy obraz i Docker cachue obraz na naszym lokalnym komputerze, a nastepnie na jego podstawie mozemy tworzyc sobie container
Moze zazadzac naszymi obrazami i containerami z poziomu Cleinta
Mozna rowniez podpinac pod containery nasze dyski i tam bede odkladane nasze danne
Najpopuilarniejszy rejestr Dockera - DockerHub, tam jest massa udostopnionych obrazow publicznie i mozemy korzystac za darmo
Rejestry mozna tworzyc wlasne, ktore beda przychowywac nasze obrazy

---Roznica miedzy Maszyna Virtualna, a Dockerem

--Maszyna Virtualna
Na maszynie Virtualnej mamy:
Hypervisor
Host OS: Moze to byc nasz komputer lokalny, server
Infrastrukture
Opragromowanie
Systemy operacyjne: Na nich pozniej sa tworzone te aplikacje
Aplikacje

--Minusy Maszyny Virtualnej:
Zazrzadzanie pamiecia
Zasoby Hosta, jesli ma kilka takich Maszyn Virtualnych

--Docker
Docker sa dogaduje sie z naszym systemem operacyjnym i wszystkie aplikacje i biblioteki uruchumaine sa bezposrednio na naszym systemie operacyjnym, na komputerze na jakim jest zainstolowany Docker
Dzieki czemu uruchamienie aplikacji jest zdecydowanie szybsze, wygodniejsze, zazadzanie containerami
Na Dockerze mamy: 
Infrastrukture
Host OS + Docker
Opragromowanie
Aplikacje

--Minusy Dockera:
Nie mozemy zrobic SnapShot kiedy zamykamy container, tracimy co jest w pamieci 
Po zastopowaniu containera pamiec jest czyszczona, po uruchomieniu go startuje na nowo

--Konteinery LXC
LXC - Linux Containers, to metoda wirtualizacji na poziomie systemu operacyjnego sluzaca do uruchomianiu wielu izolowanych systemow Linus na Hoscie


---Podsumowanie 

z Dockera korzystamy poniewaz: 
Dzieki niemu uzysujemy porzadek
Mozemy odizolowac aplikacje
Mozemy odizolowac srodowiska
W lepszy sposob zazadzac na komputerze, serveze tym co na nim sie znajduje
Ulatwia caly process wytworzenia opragromowania, bo ulatwiamy kwestie zwiazane z testowaniem, wysylamy wybramy obraz, testery tworza wlasny container, sprawdzaja czy jest dobrze czy zle
Nie trzeba tworzyc miliona Maszyn Virtualnych


--Instalacja Dockera i WSL2

--WSL2
1.Odpalic PowerShell w trybie admin
2.Wpisac w PowerShell wsl --install
3.Jesli po restartu komputera sie nie zainstalowal sie Ubuntu, trzeba wpisac wsl.exe --list --online
4.Wybrac odpowiedni system albo program i wpisac wsl.exe --install "nazwa programmu/systemu"


--Docker
1.Pobrac plik ze strony: https://docs.docker.com/desktop/setup/install/windows-install/
2.Odpalic plik i zaczekac jak sie rozpakuje plik i zainstaluje sie
3.Przejsc kroki w instalatorze Dockera

--Jak odpalic pierwszy container
1.Zrobic git clone przez PowerShell, przyklad: git clone https://github.com/docker/welcome-to-docker
2.Robimy obraz - docker build -t welcome-to-docker .
3.Wejsc w zakladki images, klikamy na nazwe obraza, po prawej stronie u gory bedzie przcisk Run
4.Wpisujemi port
5.Wygeneruje sie link do strony 
6.Wpisujemy localhost:"port" !!Wazne wejsc na port jaki wpisalismy wczesniej!!


--Komendy Docker
docker --version - sprawdzic versje Dockera
docker iamges - Wyswietlaja sie obrzy jakie sa dostepne 
dokcer container ls -a - Wyswietlaja sie containery, containery jakie sa dostepne na naszym Dockerze
docker start "poczatek id container" - Odpalic container, wystarczy napisac poczatek id containera 
docker pull "nazwa obrazu:versja" - pobrac obraz
docker stop my-apache-app - wylaczyc container
docker rm "nazwa obraza" - usunancz container
docker exec -it "id container" /bin/sh - wejsc do srodka, zeby moc zmieniac container, po wejscu mozna wpisac ls - zobaczyc pliki
cd "nazwa_katalogu"   - przejść do katalogu
cd .. - przejść do katalogu nadrzędnego (wyjść o poziom wyżej)
vi index.html - otworzyć / edytować plik index.html
Ctrl + C :wq - wyjsc z edycji pliku
exit - wyjsc do pozioma Ubuntu
docker commit "nazwa containera "nazwa uzytkownika"/app:version_1 - zrobic commit
docker history "nazwa uzytkownika"/app:version_1 - zobaczyc historie zmian


---Obrazy i Containery
--Warswy obrazow
Kernel - jest to jadro Linuxa, z ktorego korzysta Docker. Dlatego bylo istotne zainstalowa WSL2, zeby docker mog korzystac tego jadra
Alpine Linux - to jest wersja Linuxa bardzo uboga, okrajona do niezbendych rzeczy. Na nej mozemy sobie instalowac opragromowanie, biblioteki. Jest tez nazywany jako Base Image 
ADD glibc - jest to biblioteka
ADD apache - jest to jako webserver, srodowisko uruchominiowe
Kazda z Warstw ma swoje id, zeby moc w jakis sposob do nich sie odnosic, moc ich indefikowac, jest informacja co jest Parentem(Rodzicem tej warstwy). 


--Wartswa Containera
Wszystko bazuje na Ubuntu
Kazda warstwa ma swoje rozmiary, czyli np. 1 warstwa 0B, 2 wartstwa 1.895KB, 3 warstwa 194.5MB


--Pobranie Obrazu z DockerHub
httpd - Apache
docker pull httpd:2.4.66-alpine


--Uruchomenie containera
Apache chodzi na 80 porcie, tak jest domyslnie skonfigurowany, mozna rownie skonfigurowac na dowoln inny port
docker run -d --name my-apache-app -p 8080:80 httpd:2.4.66-alpine - uruchomi nasz obraz


--Edycja pliku
vi index.html 
Insert - Trzeba nacisnanc na klawiaturze zeby pisac
Delete - Trzeba nacisnancz na klawiaturze zeby usuwac
Ctrl + C :wq - wyjsc z edycji pliku
exit
docker commit my-apache-app ypayel/app:version_1 
